
<canvas id="canvas2" width="100" height="100" style="image-rendering: pixelated;"></canvas>
<img src="pattern1.png" id="pattern1">
<img src="pattern2.png" id="pattern2">
<img src="pattern3.png" id="pattern3">
<img src="pattern4.png" id="pattern4">
<script>

    function indexToCoords(n) {
        let x = 10 * Math.floor(n % 10)
        let y = 10* (Math.floor(n / 10))
        return [x,y]
    }

    function setup() {
        //för varje cell från 0 till 100, flippa en coin för att välja vilket pattern den ska ha
        //lägg in det i en array
        //sen när respektive pattern har laddat så läggs det in på alla celler som matchar

        var cells = [[], [], [], []]
        
        for (let n = 0; n<100; n++) {
            let x = Math.floor(Math.random() * 4)
            cells[x].push(n)
        }
        
        var canvas2 = document.getElementById('canvas2');
        var ctx2 = canvas2.getContext('2d');
        var p1 = document.getElementById("pattern1")
        var p2 = document.getElementById("pattern2")
        var p3 = document.getElementById("pattern3")
        var p4 = document.getElementById("pattern4")
        p1.addEventListener('load', e => {
            cells[0].forEach(index => {
                let xy = indexToCoords(index)
                ctx2.drawImage(p1, xy[0], xy[1]);              
            })
});

p2.addEventListener('load', e => {
            cells[1].forEach(index => {
                let xy = indexToCoords(index)
                ctx2.drawImage(p2, xy[0], xy[1]);              
            })
});
p3.addEventListener('load', e => {
            cells[2].forEach(index => {
                let xy = indexToCoords(index)
                ctx2.drawImage(p3, xy[0], xy[1]);              
            })
});
p4.addEventListener('load', e => {
            cells[3].forEach(index => {
                let xy = indexToCoords(index)
                ctx2.drawImage(p4, xy[0], xy[1]);              
            })
});

    }

    setup()

    
</script>
